<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <title>115å¹´æ˜¥é…’é–‹çç³»çµ±</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <style>
        :root { --gold: #f1c40f; --red: #e74c3c; }
        
        body, html { 
            margin: 0; padding: 0; height: 100%; 
            font-family: 'Microsoft JhengHei', sans-serif; 
            background-color: transparent; 
            color: white; overflow: hidden; 
        }

        .full-bg-container {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            z-index: -100; background-color: #000;
        }
        .bg-img {
            position: absolute; transition: opacity 0.8s ease;
            display: block;
        }

        #bg-opening { 
            z-index: -90; opacity: 1; filter: brightness(0.8); 
            width: 120%; height: 120%; left: -10%; top: -15%; object-fit: contain; 
        }

        #bg-main { 
            z-index: -95; opacity: 0; filter: brightness(0.5); 
            width: 100%; height: 100%; left: 0; top: 0; object-fit: cover; 
        }

        .layout { display: flex; height: 100vh; padding: 20px; box-sizing: border-box; gap: 20px; position: relative; z-index: 10; background: transparent; }

        /* ä¿ç•™ä½ èª¿æ•´çš„ 450px å´é‚Šæ¬„ */
        .side-bar { 
            width: 450px; background: rgba(0, 0, 0, 0.65); 
            border: 2px solid var(--gold); border-radius: 15px; 
            padding: 20px; display: flex; flex-direction: column; 
            backdrop-filter: blur(10px); transition: all 0.5s;
        }
        .special-mode .side-bar { opacity: 0; visibility: hidden; transform: translateX(-20px); width: 0; padding: 0; margin: 0; }

        #winnerList { flex: 1; overflow-y: auto; }
        /* ä¿ç•™ä½ èª¿æ•´çš„ 2.2rem å¤§å­—é«” */
        .win-entry { 
            padding: 15px 12px; border-bottom: 1px solid rgba(255,255,255,0.1); font-size: 2.2rem; 
            cursor: pointer; transition: background 0.3s; line-height: 1.4;
        }
        .win-entry:hover { background: rgba(231, 76, 60, 0.3); }
        .win-entry b { color: var(--gold); margin-right: 10px; font-size: 2.4rem;}

        .main-stage { flex: 1; display: flex; flex-direction: column; align-items: center; justify-content: center; }
        
        #overviewDisplay {
            display: none; width: 80%; background: rgba(0, 0, 0, 0.7);
            border: 3px solid var(--gold); border-radius: 20px;
            padding: 30px; backdrop-filter: blur(15px);
            box-shadow: 0 0 30px rgba(241, 196, 15, 0.2);
        }
        .overview-table { width: 100%; border-collapse: collapse; font-size: 1.8rem; }
        .overview-table th { color: var(--gold); border-bottom: 2px solid var(--gold); padding: 15px; text-align: left; }
        .overview-table td { padding: 12px 15px; border-bottom: 1px solid rgba(255,255,255,0.1); }
        .overview-title { font-size: 3rem; color: var(--gold); text-align: center; margin-bottom: 20px; font-weight: bold; }

        #openingTextDisplay {
            display: none; position: absolute; top: 80%; left: 50%; transform: translate(-50%, -50%);
            font-size: 6.5rem; font-weight: 900; width: 95%; line-height: 1.3; text-align: center;
            letter-spacing: 12px; z-index: 100;
            background-image: url('font2.png'); background-size: 70%; background-position: center 30%;
            -webkit-background-clip: text; -webkit-text-fill-color: transparent;
            filter: drop-shadow(2px 2px 0px rgba(0,0,0,1)) drop-shadow(0px 0px 10px rgba(0,0,0,0.8));
        }

        .show-text #openingTextDisplay, .show-overview #overviewDisplay { display: block; }
        .show-text .prize-card, .show-text .result-box, .show-text .award-header,
        .show-overview .prize-card, .show-overview .result-box, .show-overview .award-header { display: none; }

        .award-header { text-align: center; margin-bottom: 40px; z-index: 50; transition: 0.3s; }
        .award-title { font-size: 4.5rem; color: var(--gold); font-weight: bold; margin: 0; text-shadow: 3px 3px 15px #000; }
        .award-quota { background: var(--red); padding: 8px 35px; border-radius: 50px; font-size: 1.8rem; display: inline-block; margin-top: 15px; font-weight: bold; }

        .prize-display-container { 
            display: flex; align-items: center; justify-content: center; 
            gap: 50px; width: 100%; height: 75%; position: relative; 
            transition: all 0.5s ease;
        }
        
        .special-mode .prize-display-container { flex-direction: column; gap: 20px; }

        /* ä¿ç•™ä½ èª¿æ•´çš„ 650x500 çå“æ¡† */
        .prize-card {
            width: 650px; height: 500px; 
            border: 5px solid var(--gold); border-radius: 25px; 
            display: flex; align-items: center; justify-content: center;
            background: rgba(0, 0, 0, 0.4);
            margin-top: -50px; 
            overflow: hidden;
        }
        .special-mode .prize-card { border: none; width: 60vw; height: 50vh; background: transparent; margin-top: 0; }
        
        #prizeImg { width: 100%; height: 100%; object-fit: contain; }
        .special-mode #prizeImg { object-fit: contain; } 

        .result-box { min-width: 420px; text-align: center; }
        #resNum { font-size: 11rem; font-weight: bold; color: #fff; text-shadow: 5px 5px 25px #000; line-height: 1; margin: 0; }
        #resStation { font-size: 4.5rem; color: var(--gold); font-weight: bold; margin-top: 15px; text-shadow: 3px 3px 15px #000; }

        .control-panel { 
            position: fixed; bottom: 25px; right: 25px; 
            z-index: 9999; display: flex; flex-direction: column; align-items: center;
            background: rgba(0, 0, 0, 0.85);
            padding: 15px; border-radius: 12px; border: 2px solid var(--gold);
            opacity: 0; transition: opacity 0.4s ease;
        }
        .control-panel:hover { opacity: 1; }

        /* ğŸ“‘ è·³é ç›®éŒ„æ¨£å¼ */
        #pageSelect {
            background: #222; color: var(--gold); border: 1px solid var(--gold);
            padding: 5px; width: 100%; margin-bottom: 10px; border-radius: 4px; font-size: 1rem;
        }

        #numInput { 
            background: #000; border: 1px solid var(--gold); 
            color: #fff; font-size: 1.8rem; width: 140px; 
            text-align: center; border-radius: 8px; margin-bottom: 15px; outline: none;
        }
        .btn { background: var(--gold); color: #000; border: none; padding: 10px 20px; cursor: pointer; border-radius: 6px; font-weight: bold; font-size: 1.1rem; margin: 0 5px; }
        .btn:hover { background: #fff; }
    </style>
</head>
<body>

<div class="full-bg-container">
    <img id="bg-opening" src="bg1.png" class="bg-img" alt="é–‹å ´èƒŒæ™¯">
    <img id="bg-main" src="bg2.png" class="bg-img" alt="é–‹çèƒŒæ™¯">
</div>

<div class="layout" id="mainLayout">
    <div class="side-bar">
        <h3>å¾—çåå–® (é»æ“Šå¯åˆªé™¤)</h3>
        <div id="winnerList"></div>
    </div>

    <div class="main-stage">
        <div class="award-header" id="headerArea">
            <div id="curName" class="award-title"></div>
            <div id="curQuota" class="award-quota"></div>
        </div>

        <div class="prize-display-container">
            <div id="openingTextDisplay" class="animate__animated animate__fadeIn"></div>
            
            <div id="overviewDisplay" class="animate__animated animate__zoomIn">
                <div class="overview-title">ğŸ§§ 115å¹´æ˜¥é…’ çé …ç¸½è¦½ ğŸ§§</div>
                <table class="overview-table">
                    <thead>
                        <tr><th>çé …åç¨±</th><th>åé¡</th><th>çé …åç¨±</th><th>åé¡</th></tr>
                    </thead>
                    <tbody id="overviewBody"></tbody>
                </table>
            </div>

            <div class="prize-card" id="prizeCard"><img id="prizeImg" src="" alt="çé …åœ–ç‰‡"></div>
            <div class="result-box">
                <div id="resNum" class="animate__animated"></div>
                <div id="resStation" class="animate__animated"></div>
            </div>
        </div>
    </div>
</div>

<div class="control-panel">
    <select id="pageSelect" onchange="jumpPage(this.value)"></select>
    <input type="text" id="numInput" placeholder="ç·¨è™Ÿ" autofocus autocomplete="off">
    <div class="nav-btns">
        <button class="btn" onclick="goPage(-1)">â—€ PREV</button>
        <button class="btn" onclick="goPage(1)">NEXT â–¶</button>
    </div>
</div>

<script>
    const prizeListData = [
        { n: "ç‰¹çï¼šApple iPhone 17", q: 1 }, { n: "ä¸€çï¼šSAMSUNG 43å‹é›»è¦–", q: 1 },
        { n: "äºŒçï¼šDyson ç©ºæ°£æ¸…æ·¨æ©Ÿ", q: 1 }, { n: "ä¸‰çï¼šä»»å¤©å ‚Nintendo Switch 2", q: 1 },
        { n: "å››çï¼šDyson ç„¡ç·šå¸å¡µå™¨", q: 1 }, { n: "äº”çï¼šApple iPad", q: 1 },
        { n: "å…­çï¼šè™ç‰ŒIHé›»å­é‹", q: 2 }, { n: "ä¸ƒçï¼šApple Watch SE3", q: 2 },
        { n: "å…«çï¼šé£›åˆ©æµ¦4.2Læ°£ç‚¸é‹", q: 2 }, { n: "ä¹çï¼šæ·å®‰ç‰¹ è‡ªè¡Œè»Š", q: 4 },
        { n: "æ™®çä¸€ï¼šApple AirPods 4", q: 4 }, { n: "æ™®çäºŒï¼šåœ‹éš›ç‰Œæ—¥æœ¬è£½é›»å‹•ç‰™åˆ·", q: 4 },
        { n: "æ™®çä¸‰ï¼šæ´—å¯éº— ç’°ä¿æ´—è¡£ç²¾(ç®±)", q: 15 }, { n: "æ™®çå››ï¼šæ´—å¯éº— èƒºåŸºé…¸æ´—æ²çµ„", q: 20 },
        { n: "æ™®çäº”ï¼šæ´—å¯éº— æµ·ç‰¡ä¸¹æ´—æ²çµ„", q: 20 }
    ];

    const config = [
        { type: "opening", name: "é–‹å ´ï¼šæ²¹å“è¡ŒéŠ·äº‹æ¥­éƒ¨å°å—ç‡Ÿæ¥­è™•<br>115å¹´åŠ ç›Ÿç«™è¯èª¼é¤æœƒ", q: 0, url: "" }, 
        { type: "overview", name: "çé …ç¸½è¦½", q: 0, url: "" },
        { type: "draw", name: "æ™®çäº”<br>æ´—å¯éº— æµ·ç‰¡ä¸¹æ´—æ²çµ„", q: 20, url: "æ™®çäº”.png" },
        { type: "draw", name: "æ™®çå››<br>æ´—å¯éº— èƒºåŸºé…¸æ´—æ²çµ„", q: 20, url: "æ™®çå››.png" },
        { type: "draw", name: "æ™®çä¸‰<br>æ´—å¯éº— ç’°ä¿æ´—è¡£ç²¾(ç®±)", q: 15, url: "æ™®çä¸‰.png" },
        { type: "draw", name: "æ™®çäºŒ<br>åœ‹éš›ç‰Œæ—¥æœ¬è£½é›»å‹•ç‰™åˆ·", q: 4, url: "æ™®çäºŒ.png" },
        { type: "draw", name: "æ™®çä¸€<br>Apple AirPods 4", q: 4, url: "æ™®çä¸€.png" },
        { type: "draw", name: "ä¹ç<br>æ·å®‰ç‰¹ è‡ªè¡Œè»Š", q: 4, url: "ä¹ç.png" },
        { type: "draw", name: "å…«ç<br>é£›åˆ©æµ¦4.2Læ°£ç‚¸é‹", q: 2, url: "å…«ç.png" },
        { type: "draw", name: "ä¸ƒç<br>Apple Watch SE3", q: 2, url: "ä¸ƒç.png" },
        { type: "draw", name: "å…­ç<br>è™ç‰ŒIHé›»å­é‹", q: 2, url: "å…­ç.png" },
        { type: "draw", name: "äº”ç<br>Apple iPad", q: 1, url: "äº”ç.png" },
        { type: "draw", name: "å››ç<br>Dyson ç„¡ç·šå¸å¡µå™¨", q: 1, url: "å››ç.png" },
        { type: "draw", name: "ä¸‰ç<br>ä»»å¤©å ‚Nintendo Switch 2", q: 1, url: "ä¸‰ç.png" },
        { type: "draw", name: "äºŒç<br>Dyson ç©ºæ°£æ¸…æ·¨æ©Ÿ", q: 1, url: "äºŒç.png" },
        { type: "draw", name: "ä¸€ç<br>SAMSUNG 43å‹é›»è¦–", q: 1, url: "ä¸€ç.png" },
        { type: "draw", name: "ç‰¹ç<br>Apple iPhone 17", q: 1, url: "ç‰¹ç.png" },
        { type: "draw", name: "è¬è¬å¤§å®¶", q: 0, url: "" }, // ğŸ§§ æ’å…¥ç©ºç™½é ç†±é 
        { type: "draw", name: "ä¸»å§”åŠ ç¢¼", q: 99, url: "åŠ ç¢¼.gif" },
        { type: "draw", name: "å°å—å¸‚åŠ æ²¹ç«™å•†æ¥­åŒæ¥­å…¬æœƒ<br>ç‹å¯Œæ°‘ ç†äº‹é•·", q: 5, url: "2000ç´…åŒ….png" },
        { type: "draw", name: "ä¸­è¯æ°‘åœ‹åŠ æ²¹ç«™å•†æ¥­åŒæ¥­å…¬æœƒå…¨åœ‹è¯åˆæœƒ<br>ææ°è¿… ç†äº‹é•·", q: 5, url: "2000ç´…åŒ….png" },
    ];

    const guestData = {"40":"æ°¸æ˜‡ç«™","73":"åŠ å·ç«™","92":"å†å‚³ç«™","98":"å˜‰ä»ç«™","36":"å¤§å¾·ç«™","117":"åœŸåŸç«™","116":"äº”æ´²ç«™","128":"æ°¸æ–°ç«™","101":"æ°¸æ¨ºç«™","115":"éº»æ–°ç«™","34":"åŒ—å®‰ç«™","18":"ä½³å„„ç«™","106":"ä¿ä¾†ç«™","81":"çµ±å¥½ç«™","56":"å¤§ä½³ç«™","30":"æ°‘å®‰ç«™","8":"æµ·å¯®ç«™","58":"å°ç³–ä¸‰è‚¡ç«™","45":"å°ç³–æ›¾æ–‡ç«™","35":"æ°¸åº·æ­£å¤§ç«™","123":"æ°¸åº·ä¸­å±±ç«™","99":"å°ç³–å…­ç”²ç«™","29":"å°ç³–è±å¾·ç«™","87":"å°ç³–æ½­é ‚ç«™","57":"å°ç³–å´‡å¾·ç«™","69":"å°ç³–æ–‡æ­£ç«™","74":"æ°¸åº·å…­ç”²é ‚ç«™","7":"æ–°åŠ›ç«™","3":"å°ç³–è™å±±ç«™","82":"å°ç³–å¤§æ¹–ç«™","110":"å¤§æ—ºç«™","127":"å¤§æ¸¯ç«™","109":"å˜‰å’Œç«™","26":"ç‘å—ç«™","84":"ç‘æ³°ç«™","22":"æ—ºä½ç«™","97":"å¤§é—œå»Ÿç«™","55":"åŠ æ³“ç«™","100":"ç”²ä¸Šç«™","79":"é †å®‡ç«™","68":"è½‚è±ç«™","77":"ç¾å‰ç«™","47":"å°ç³–åœ‹è–ç«™","39":"å°ç³–å¤§ç‡Ÿç«™","32":"ç‘æ³‰ç«™","51":"å„„æ­¸ç«™","5":"å¤§å´—å±±ç«™","94":"å¤§ç‰äº•ç«™","111":"å°ç³–ä»å¾·ç«™","80":"æ¾å»ºç«™","63":"å¤§éŠ˜æ˜Œç«™","90":"æ–°å·¦é®ç«™","50":"åœ‹è³“ç«™","119":"å¤§æ­£ç«™","60":"ä½³è¾²ç«™","120":"çµ±ä½³ç«™","41":"åœ‹è³“ä¸ƒè‚¡ç«™","125":"å—å»ç«™","76":"èŒ„è£ä»æ„›ç«™","75":"ç‡Ÿè¾²ç«™","102":"å°‡è¾²ç«™","14":"å¾·å·æ°‘æ—ç«™","124":"å®‰å®šäº¤æµé“ç«™","46":"å±±éš†å®‰å®šç«™","70":"å¤§æ–°ç«™","19":"èµ°é¦¬ç€¨ç«™","1":"å…¬å­¸ç«™","66":"ç¯¤åŠ ç«™","67":"ç‘æ›œç«™","13":"é å¤§ç«™","93":"é‚£æ‹”æ—ç«™","61":"å…ƒå¤§ç«™","64":"æ°¸å¤§è·¯ç«™","9":"å°ç³–æ°¸å®‰ç«™","11":"å±±éš†å–„åŒ–ç«™","33":"æ˜èˆˆç«™","83":"å¤§ç”°ç«™","24":"å—æ˜‡ç«™","6":"èˆˆé”æ¸¯ç«™","71":"å±±éš†æ°¸åº·ç«™","114":"æ°¸åº·ä¸­æ­£å—è·¯ç«™","52":"æ¹–ä¸­è·¯ç«™","78":"ç¸±è²«æ°¸å¤§ç«™","16":"æ–°ç‰äº•ç«™","4":"å®‰æ¥­ç«™","10":"åŒ—æµ·ç«™","21":"åŒ—åŸºå´‘å±±ç«™","48":"é‡‘ç”°ç«™","25":"æ–°ä¸­ç«™","107":"å®˜ç”°ç«™","38":"é‡‘å˜‰æ—ºç«™","90":"å®‰å’Œç«™","126":"å¿ å­æ±è·¯ç«™","103":"å¤ªå­ç«™","108":"ä¸­æ­£ç«™","20":"åŒ—åŸºéº»è±†ç«™","59":"å˜‰ç›ˆå°å—åˆ†ç«™","118":"åŒ—åŸºé˜¿è“®ç«™","2":"å°‡è»äº¤æµé“ç«™","12":"å°‡è»æ¸¯æ¼èˆ¹ç«™","122":"æŒ‘æˆ°è€…å…¬åœ’å—","96":"ç¦æ˜‡ç«™","105":"äºæŸè·¯ç«¹ç«™","53":"åŒ—åŸºå¤ªå­ç«™","54":"çµ±å¥½æ­¸ä»ç«™","49":"å¤§æˆç«™","95":"æ°¸æˆè·¯ç«™","62":"ä¸‰å¤§å…­ç”²ç«™","44":"åŒ—åŸºæ–°å¸‚ç«™","89":"åŒ—åŸºæ°¸åº·","86":"åŒ—åŸºå–„åŒ–","15":"æ¿±æµ·ç«™","27":"ä¹…äº•å¥‡ç¾","121":"é€²å­¸ç«™","72":"åŒ—åŸºæ­¸ä»ç«™"};

    let page = 0;
    let winners = {};
    let allWinIds = new Set();

    function init() {
        const select = document.getElementById('pageSelect');
        config.forEach((c, i) => {
            c.rem = c.q;
            winners[c.name] = [];
            // å¡«å……ä¸‹æ‹‰é¸å–®
            const opt = document.createElement('option');
            opt.value = i;
            opt.innerText = `${i+1}. ${c.name.replace('<br>', ' ')}`;
            select.appendChild(opt);
        });
        
        let html = '';
        for(let i=0; i<prizeListData.length; i+=2) {
            let p1 = prizeListData[i];
            let p2 = prizeListData[i+1] || {n:'', q:''};
            html += `<tr><td>${p1.n}</td><td>${p1.q}</td><td>${p2.n}</td><td>${p2.q}</td></tr>`;
        }
        document.getElementById('overviewBody').innerHTML = html;
        update();
    }

    function jumpPage(val) {
        page = parseInt(val);
        update();
    }

    function update() {
        const c = config[page];
        const layout = document.getElementById('mainLayout');
        const select = document.getElementById('pageSelect');
        layout.classList.remove('special-mode', 'show-text', 'show-overview');
        select.value = page; // åŒæ­¥é¸å–®

        if (c.type === "opening") {
            document.getElementById('bg-opening').style.opacity = "1";
            document.getElementById('bg-main').style.opacity = "0";
            layout.classList.add('special-mode', 'show-text');
            document.getElementById('openingTextDisplay').innerHTML = c.name.split('ï¼š')[1] || "";
        } else if (c.type === "overview") {
            document.getElementById('bg-opening').style.opacity = "1";
            document.getElementById('bg-main').style.opacity = "0";
            layout.classList.add('special-mode', 'show-overview');
        } else {
            document.getElementById('bg-opening').style.opacity = "0";
            document.getElementById('bg-main').style.opacity = "1";
            // åç¨±åŒ…å«ã€ŒåŠ ç¢¼ã€ã€ã€ŒæœŸå¾…ã€æˆ–ã€Œç†äº‹é•·ã€å°±é€²å…¥ç‰¹æ®Šæ¨¡å¼
            if (c.name.includes("åŠ ç¢¼") || c.name.includes("è¬è¬") )) layout.classList.add('special-mode');

            // ğŸ† ç†äº‹é•·ç…™ç«ç‰¹æ•ˆ
            if (c.name.includes("ç†äº‹é•·")) {
                launchFireworks();
            }
        }

        document.getElementById('curName').innerHTML = c.name;
        document.getElementById('curQuota').innerText = (c.q === 0) ? "WELCOME" : (c.q === 99 ? "åŠ ç¢¼ä¸­" : `å‰©é¤˜åé¡ï¼š${c.rem}`);
        
        const pImg = document.getElementById('prizeImg');
        pImg.src = c.url || "";
        pImg.style.visibility = c.url ? 'visible' : 'hidden';

        document.getElementById('resNum').innerText = "";
        document.getElementById('resStation').innerText = "";
        renderList();
        document.getElementById('numInput').focus();
    }

    function launchFireworks() {
        var duration = 3 * 1000;
        var end = Date.now() + duration;
        (function frame() {
            confetti({ particleCount: 5, angle: 60, spread: 55, origin: { x: 0 }, colors: ['#f1c40f', '#e74c3c', '#ffffff'] });
            confetti({ particleCount: 5, angle: 120, spread: 55, origin: { x: 1 }, colors: ['#f1c40f', '#e74c3c', '#ffffff'] });
            if (Date.now() < end) requestAnimationFrame(frame);
        }());
    }

    function renderList() {
        const c = config[page];
        const listDiv = document.getElementById('winnerList');
        listDiv.innerHTML = (winners[c.name] || []).map((w, idx) => `
            <div class="win-entry" onclick="removeWinner('${c.name}', ${idx})"><b>${w.id}</b> ${w.st}</div>
        `).join('');
    }

    function removeWinner(awardName, idx) {
        if (confirm("ç¢ºå®šè¦åˆªé™¤é€™ä½å¾—çè€…å—ï¼Ÿåé¡å°‡æœƒå›è£œã€‚")) {
            const removed = winners[awardName].splice(idx, 1)[0];
            allWinIds.delete(removed.id);
            
            const c = config.find(i => i.name === awardName);
            if(c && c.q !== 99) {
                c.rem++;
                document.getElementById('curQuota').innerText = `å‰©é¤˜åé¡ï¼š${c.rem}`;
            }
            renderList();
        }
    }

    document.getElementById('numInput').addEventListener('keypress', function(e) {
        if (e.key === 'Enter') {
            const id = this.value.trim();
            const st = guestData[id];
            const c = config[page];
            
            if (c.type !== "draw" || c.name.includes("æœŸå¾…")) return;
            if (!st) { 
                alert("ç·¨è™Ÿä¸å­˜åœ¨"); 
            } else if (allWinIds.has(id)) { 
                alert("é€™å€‹è™Ÿç¢¼æŠ½éå›‰ï¼è«‹é‡æŠ½ã€‚"); 
            } else if (c.q !== 99 && c.rem <= 0) { 
                alert("åé¡å·²æ»¿"); 
            } else {
                winners[c.name].unshift({id, st});
                allWinIds.add(id);
                if(c.q !== 99) c.rem--;
                animateResult(id, st);
                renderList();
                document.getElementById('curQuota').innerText = (c.q === 99) ? "åŠ ç¢¼ä¸­" : `å‰©é¤˜åé¡ï¼š${c.rem}`;
            }
            this.value = '';
        }
    });

    // ä¿æŒä½ èª¿æ•´éçš„ animateResult é‚è¼¯
    function animateResult(id, st) {
        const n = document.getElementById('resNum');
        const s = document.getElementById('resStation');
        n.classList.remove('animate__zoomIn');
        s.classList.remove('animate__fadeInUp');
        void n.offsetWidth; 
        void s.offsetWidth;
        n.innerText = id;
        s.innerText = st;
        n.classList.add('animate__zoomIn');
        s.classList.add('animate__fadeInUp');
    }

    function goPage(dir) {
        if (page + dir >= 0 && page + dir < config.length) {
            page += dir;
            update();
        }
    }

    init();
</script>
</body>

</html>
