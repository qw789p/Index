<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>115å¹´æ˜¥é…’å¸¶ä½ç³»çµ±-æ­£å¼ä¿®æ­£ç‰ˆ</title>
    <style>
        :root { --red: #e74c3c; --green: #27ae60; --dark: #2c3e50; --gray: #f4f4f4; --checked: #d1d1d1; }
        body { font-family: -apple-system, "Microsoft JhengHei", sans-serif; background: #eee; margin: 0; padding: 10px; display: flex; justify-content: center; }
        .container { width: 100%; max-width: 800px; background: white; border-radius: 15px; box-shadow: 0 5px 20px rgba(0,0,0,0.2); overflow: hidden; }
        .tabs { display: flex; background: var(--dark); }
        .tab { flex: 1; padding: 15px; text-align: center; color: #aaa; cursor: pointer; font-weight: bold; }
        .tab.active { color: white; background: var(--red); }
        .content { padding: 20px; min-height: 400px; }
        .section { display: none; }
        .section.active { display: block; }
        .search-input { width: 100%; padding: 15px; font-size: 18px; border: 2px solid #ddd; border-radius: 10px; box-sizing: border-box; margin-bottom: 15px; outline: none; }
        .db-table { width: 100%; border-collapse: collapse; font-size: 14px; }
        .db-table th, .db-table td { padding: 10px; border: 1px solid #ddd; text-align: center; }
        .db-table th { background: var(--gray); }
        .tag { font-size: 12px; padding: 2px 6px; border-radius: 4px; display: inline-block; }
        .tag-veg { background: #eafaf1; color: var(--green); border: 1px solid var(--green); }
        .tag-meat { background: #fdf2f2; color: var(--red); border: 1px solid var(--red); }
        .card { border: 1px solid #eee; border-radius: 10px; padding: 15px; margin-bottom: 10px; display: flex; justify-content: space-between; align-items: center; background: white; transition: 0.3s; }
        .table-badge { background: var(--red); color: white; padding: 5px 15px; border-radius: 20px; font-size: 20px; font-weight: bold; }
        .is-checked { background: #f0f0f0 !important; color: #aaa !important; text-decoration: line-through; opacity: 0.7; }
        .check-btn { background: #fff; border: 1px solid #ddd; padding: 5px 10px; border-radius: 5px; cursor: pointer; font-size: 16px; margin-left: 10px; }
        .check-btn.active { background: var(--green); color: white; border-color: var(--green); }
        .no-name { color: #bbb; font-style: italic; }
    </style>
</head>
<body>
<div class="container">
    <div class="tabs">
        <div id="t-search" class="tab active" onclick="showTab('search')">ğŸ” å¿«é€ŸæŸ¥è©¢</div>
        <div id="t-list" class="tab" onclick="showTab('list')">ğŸ“‹ å…¨å“¡ç¸½è¡¨</div>
    </div>
    <div class="content">
        <div id="s-search" class="section active">
            <input type="text" id="mainInput" class="search-input" placeholder="è¼¸å…¥å§“åã€ç«™ä»£è™Ÿæˆ–æ¡Œè™Ÿ..." oninput="processSearch()">
            <div id="displayArea"></div>
        </div>
        <div id="s-list" class="section">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
                <h3 id="totalCount" style="margin:0">è¼‰å…¥ä¸­...</h3>
                <button onclick="clearAllCheck()" style="font-size: 12px; cursor: pointer;">é‡ç½®å ±åˆ°ç‹€æ…‹</button>
            </div>
            <div style="overflow-x: auto; max-height: 600px;"><table class="db-table"><thead><tr><th>å ±åˆ°</th><th>æ¡Œè™Ÿ</th><th>å§“å</th><th>ç«™å</th><th>é¤é£Ÿ</th></tr></thead><tbody id="fullTableBody"></tbody></table></div>
        </div>
    </div>
</div>

<script>
    const rawData = [
        {"id":1,"station":"NN6212A20 å˜‰ä»ç«™","name":"æ—å®—è³¢","table":"5","diet":"ç´ "},
        {"id":2,"station":"NN6212C11 å¾·å·æ°‘æ—ç«™","name":"æ—å®—è³¢","table":"5","diet":"ç´ "},
        {"id":3,"station":"NN6212B78 çµ±ä½³ç«™1","name":"é™³æ·‘ç ","table":"5","diet":"ç´ "},
        {"id":4,"station":"NN6212B78 çµ±ä½³ç«™2","name":"åŠ‰ä¿¡å—","table":"5","diet":"ç´ "},
        {"id":5,"station":"NN6212D05 çµ±å¥½æ­¸ä»ç«™1","name":"é™³æ¸…è¼","table":"5","diet":"ç´ "},
        {"id":6,"station":"NN6212D05 çµ±å¥½æ­¸ä»ç«™2","name":"é™³å»ºæ¨º","table":"5","diet":"ç´ "},
        {"id":7,"station":"NN6212A62 å¤§ä½³ç«™","name":"è¬é™³é‡‘è‘‰","table":"5","diet":"ç´ "},
        {"id":8,"station":"NN6212B27 ç¾å‰ç«™1","name":"è”¡ç‚å¤","table":"5","diet":"ç´ "},
        {"id":9,"station":"NN6212A26 åœŸåŸ1","name":"ç‹å¯Œæ­£","table":"7","diet":"è‘·"},
        {"id":10,"station":"NN6212A26 åœŸåŸ2","name":"ç„¡å§“å","table":"7","diet":"è‘·"},
        {"id":11,"station":"NN6212A69 åœŸåº«1","name":"ç„¡å§“å","table":"7","diet":"è‘·"},
        {"id":12,"station":"NN6212A69 åœŸåº«2","name":"ç„¡å§“å","table":"7","diet":"è‘·"},
        {"id":13,"station":"NN6212A69 åœŸåº«3","name":"ç„¡å§“å","table":"7","diet":"è‘·"},
        {"id":14,"station":"NN6212A13 åŠ å·1","name":"é™³æ˜è‰¯","table":"7","diet":"è‘·"},
        {"id":15,"station":"NN6212A13 åŠ å·2","name":"è¨±è‹¥èƒ","table":"7","diet":"è‘·"},
        {"id":16,"station":"NN6212D07 æ°¸æˆè·¯1","name":"æ—ä½³æ¨¡","table":"7","diet":"è‘·"},
        {"id":17,"station":"NN6212D07 æ°¸æˆè·¯2","name":"ç„¡å§“å","table":"7","diet":"è‘·"},
        {"id":18,"station":"NN6212B27 ç¾å‰ç«™1","name":"æ½˜ç¾½è»’","table":"7","diet":"è‘·"},
        {"id":19,"station":"NN6212C56 æ°¸å¤§1","name":"é˜é›…å«»","table":"8","diet":"è‘·"},
        {"id":20,"station":"NN6212C56 æ°¸å¤§2","name":"å‘¨é´»è‰¯","table":"8","diet":"è‘·"},
        {"id":21,"station":"NN6212A87 æ–°åŠ›1","name":"é»ƒä¸­å¯¬","table":"8","diet":"è‘·"},
        {"id":22,"station":"NN6212A87 æ–°åŠ›2","name":"å®‹æ–‡ç‘œ","table":"8","diet":"è‘·"},
        {"id":23,"station":"NN6212A21 å¤§å¾·1","name":"è˜‡è³œéŠ“","table":"8","diet":"è‘·"},
        {"id":24,"station":"NN6212A21 å¤§å¾·2","name":"ç„¡å§“å","table":"8","diet":"è‘·"},
        {"id":25,"station":"NN6212B14 åŠ æ³“1","name":"æ—å®æ˜†","table":"8","diet":"è‘·"},
        {"id":26,"station":"NN6212B14 åŠ æ³“2","name":"ç„¡å§“å","table":"8","diet":"è‘·"},
        {"id":27,"station":"NN6212A63 æ°‘å®‰","name":"é™³å¿ æ–‡","table":"8","diet":"è‘·"},
        {"id":28,"station":"NN6212B76 æ°‘å®‰æµ·ä½ƒç«™","name":"ç„¡å§“å","table":"8","diet":"è‘·"},
        {"id":29,"station":"NN6212C69 èˆˆé”æ¸¯ç«™","name":"åŠ‰åœç‘","table":"10","diet":"è‘·"},
        {"id":30,"station":"NN6212C13 å®‰å®šäº¤æµé“ç«™1","name":"é™³åŠŸæ­¦","table":"10","diet":"è‘·"},
        {"id":31,"station":"NN6212C13 å®‰å®šäº¤æµé“ç«™2","name":"å‘‚ç‘ç","table":"10","diet":"è‘·"},
        {"id":32,"station":"NN6212A30 äº”æ´²","name":"é™³ç‚³è‡£","table":"10","diet":"è‘·"},
        {"id":33,"station":"NN6212C52 é‚£æ‹”æ—ç«™1","name":"æå»ºå‹³","table":"10","diet":"è‘·"},
        {"id":34,"station":"NN6212C52 é‚£æ‹”æ—ç«™2","name":"æéº—é›ª","table":"10","diet":"è‘·"},
        {"id":35,"station":"NN6212C86 é‡‘ç”°","name":"æå»ºè¼","table":"11","diet":"è‘·"},
        {"id":36,"station":"NN6212B89 å—éƒ¨","name":"é™³ç¾ç‘¤","table":"11","diet":"è‘·"},
        {"id":37,"station":"NN6212B08 æ—ºä½1","name":"é„­ç§€ç ","table":"11","diet":"è‘·"},
        {"id":38,"station":"NN6212B08 æ—ºä½2","name":"æ±ŸèŠ³æ·µ","table":"11","diet":"è‘·"},
        {"id":39,"station":"NN6212C21 å¤§æ–°ç«™","name":"é™³æ¥·æ±","table":"11","diet":"è‘·"},
        {"id":40,"station":"NN6212C25 ç‘æ›œç«™","name":"é™³ç§‘ç››","table":"11","diet":"è‘·"},
        {"id":41,"station":"NN6212A31 æ°¸æ–°ç«™","name":"é™³å¥•å»·","table":"11","diet":"è‘·"},
        {"id":42,"station":"NN6212A96 å¤§æ¸¯ç«™","name":"é™³ç‚¯ä¸","table":"11","diet":"è‘·"},
        {"id":43,"station":"NN6212D06 å¤§æˆç«™","name":"é™³æ˜¶å®","table":"11","diet":"è‘·"},
        {"id":44,"station":"NN6212C53 å…ƒå¤§1","name":"åŠ‰å† éºŸ","table":"12","diet":"è‘·"},
        {"id":45,"station":"NN6212C53 å…ƒå¤§2","name":"ç„¡å§“å","table":"12","diet":"è‘·"},
        {"id":46,"station":"NN6212C60 æ˜èˆˆ1","name":"è”¡éƒ­é‡‘è‹±","table":"12","diet":"è‘·"},
        {"id":47,"station":"NN6212C60 æ˜èˆˆ2","name":"ç„¡å§“å","table":"12","diet":"è‘·"},
        {"id":48,"station":"NN6212C97 å°‡è»äº¤æµé“ç«™","name":"é™³ä½³çƒ½","table":"12","diet":"è‘·"},
        {"id":49,"station":"NN6212W01 å°‡è»æ¸¯æ¼èˆ¹ç«™","name":"é™³ä½³çƒ½","table":"12","diet":"è‘·"},
        {"id":50,"station":"NN6212C77 ç¸±è²«æ°¸å¤§ç«™1","name":"æ¥Šå²³éœ–","table":"12","diet":"è‘·"},
        {"id":51,"station":"NN6212C77 ç¸±è²«æ°¸å¤§ç«™2","name":"æ¥Šå²³éœ–","table":"12","diet":"è‘·"},
        {"id":52,"station":"NN6212B45 æ¾å»ºç«™","name":"é™³å»ºå…ƒ","table":"15","diet":"è‘·"},
        {"id":53,"station":"NN6212D18 é€²å­¸ç«™1","name":"ç„¡å§“å","table":"15","diet":"è‘·"},
        {"id":54,"station":"NN6212D18 é€²å­¸ç«™2","name":"å¼µå±•å½ª","table":"15","diet":"è‘·"},
        {"id":55,"station":"NN6212A66 æµ·å¯®ç«™","name":"ç„¡åæ°","table":"15","diet":"è‘·"},
        {"id":56,"station":"NN6212C23 å…¬å­¸ç«™","name":"ç„¡åæ°","table":"15","diet":"è‘·"},
        {"id":57,"station":"NN6212A15 å†å‚³ç«™1","name":"å“æ·‘ç´ ","table":"15","diet":"è‘·"},
        {"id":58,"station":"NN6212A15 å†å‚³ç«™2","name":"ç„¡å§“å","table":"15","diet":"è‘·"},
        {"id":59,"station":"NN6212C47 é å¤§ç«™","name":"æ›¾å‰æ™º","table":"15","diet":"è‘·"},
        {"id":60,"station":"NN6212A92 å¤§æ—ºç«™","name":"æœ±æ—­é¨°","table":"15","diet":"è‘·"},
        {"id":61,"station":"NN6212D03 äºæŸè·¯ç«¹","name":"é™³æ™¯ç”Ÿ","table":"15","diet":"è‘·"},
        {"id":62,"station":"NN6212B15 ç”²ä¸Šç«™","name":"å³å»ºè°","table":"16","diet":"è‘·"},
        {"id":63,"station":"NN6212C88å®˜ç”°ç«™","name":"é¾å¯¬æ¯…","table":"16","diet":"è‘·"},
        {"id":64,"station":"NN6212B63 ä½³èˆˆç«™","name":"ç„¡å§“å","table":"16","diet":"è‘·"},
        {"id":65,"station":"NN6212D08 ä¸‰å¤§å…­ç”²ç«™1","name":"å°¤è™¹é›¯","table":"16","diet":"è‘·"},
        {"id":66,"station":"NN6212D08 ä¸‰å¤§å…­ç”²ç«™2","name":"å°¤è™¹é›¯","table":"16","diet":"è‘·"},
        {"id":67,"station":"NN6212A76 æ°¸åº·æ­£å¤§ç«™","name":"è³´é€¸é´»","table":"16","diet":"è‘·"},
        {"id":68,"station":"NN6212A77 æ°¸åº·ä¸­å±±ç«™","name":"é™³ä»²å‚‘","table":"16","diet":"è‘·"},
        {"id":69,"station":"NN6212A85 æ°¸åº·å…­ç”²é ‚ç«™","name":"æ—ç·¯èª ","table":"16","diet":"è‘·"},
        {"id":70,"station":"NN6212A41 éº»æ–°ç«™1","name":"é™³å»ºå‹³","table":"16","diet":"è‘·"},
        {"id":71,"station":"NN6212A41 éº»æ–°ç«™2","name":"é™³æ³°ç‘€","table":"16","diet":"è‘·"},
        {"id":72,"station":"NN6212B04 ç‘å—ç«™","name":"é™³å£ãš¬","table":"19","diet":"è‘·"},
        {"id":73,"station":"NN6212B06 ç‘æ³°ç«™","name":"é™³å£ãš¬","table":"19","diet":"è‘·"},
        {"id":74,"station":"NN6212B33 ç‘æ³‰ç«™","name":"é™³å£ãš¬","table":"19","diet":"è‘·"},
        {"id":75,"station":"NN6212B47 å¤§éŠ˜æ˜Œç«™1","name":"é™³æ·‘è²","table":"19","diet":"è‘·"},
        {"id":76,"station":"NN6212B47 å¤§éŠ˜æ˜Œç«™2","name":"èŠå¡—ç”Ÿ","table":"19","diet":"è‘·"},
        {"id":77,"station":"NN6212C92 å¤ªå­ç«™1","name":"èƒ¡ç¢§ç","table":"19","diet":"è‘·"},
        {"id":78,"station":"NN6212C92 å¤ªå­ç«™2","name":"èƒ¡ä½³ç¦","table":"19","diet":"è‘·"},
        {"id":79,"station":"NN6212B61 åœ‹è³“ç«™","name":"æ¢å³¯æ—","table":"19","diet":"è‘·"},
        {"id":80,"station":"NN6212B83 åœ‹è³“ä¸ƒè‚¡ç«™","name":"æ¢é»ƒéŒ¦","table":"19","diet":"è‘·"},
        {"id":82,"station":"NN6212B90 èŒ„è£ä»æ„›ç«™","name":"å³çˆ¾ç¥¥","table":"20","diet":"è‘·"},
        {"id":83,"station":"NN6212C75 æ¹–ä¸­è·¯ç«™","name":"è‘‰è‚²æˆ","table":"20","diet":"è‘·"},
        {"id":84,"station":"NN6212C89 é‡‘å˜‰æ—ºç«™","name":"å‘¨ç©","table":"20","diet":"è‘·"},
        {"id":85,"station":"NN6212C90 å˜‰ç›ˆå°å—ç«™1","name":"ç‹éº—ç‘›","table":"20","diet":"è‘·"},
        {"id":86,"station":"NN6212C95 å˜‰ç›ˆå°å—ç«™2","name":"è³´æ³‡å¦¡","table":"20","diet":"è‘·"},
        {"id":87,"station":"NN6212C67 å¤§ç”°ç«™1","name":"é™³ç§€ç¾","table":"20","diet":"è‘·"},
        {"id":88,"station":"NN6212C67 å¤§ç”°ç«™2","name":"ç„¡å§“å","table":"20","diet":"è‘·"},
        {"id":89,"station":"NN6212D14 æ¿±æµ·ç«™1","name":"é™³æ˜¥å¸†","table":"20","diet":"è‘·"},
        {"id":90,"station":"NN6212D14 æ¿±æµ·ç«™2","name":"ç„¡å§“å","table":"20","diet":"è‘·"},
        {"id":91,"station":"NN6212C79 æ–°ç‰äº•","name":"å³é’é´»","table":"21","diet":"è‘·"},
        {"id":92,"station":"NN6212B42 å¤§ç‰äº•1","name":"ç‹ä¸ä¹™","table":"21","diet":"è‘·"},
        {"id":93,"station":"NN6212B42 å¤§ç‰äº•2","name":"å¼µéº—","table":"21","diet":"è‘·"},
        {"id":94,"station":"NN6212B82 å¤§æ¥ è¥¿1","name":"ç„¡å§“å","table":"21","diet":"è‘·"},
        {"id":95,"station":"NN6212B82 å¤§æ¥ è¥¿2","name":"ç„¡å§“å","table":"21","diet":"è‘·"},
        {"id":96,"station":"NN6212C80 å®‰æ¥­","name":"æ—æ˜“éœ–","table":"21","diet":"è‘·"},
        {"id":97,"station":"NN6212C87 æ–°ä¸­ç«™1","name":"è¨±ç‡ç²","table":"21","diet":"è‘·"},
        {"id":98,"station":"NN6212C87 æ–°ä¸­ç«™2","name":"è¨±ç‡ç²","table":"21","diet":"è‘·"},
        {"id":99,"station":"NN6212B53 æ–°å·¦é®ç«™","name":"å¼µå®¶ç‘œ","table":"21","diet":"è‘·"},
        {"id":100,"station":"NN6212C22 èµ°é¦¬ç€¨ç«™","name":"æ¥Šé³³è‹±","table":"21","diet":"è‘·"},
        {"id":101,"station":"NN6212C93 ä¸­æ­£ç«™","name":"è¾›å½¥é¾","table":"22","diet":"è‘·"},
        {"id":102,"station":"NN6212B38 å¤§å´—å±±ç«™","name":"æ¥Šç‡é›…","table":"22","diet":"è‘·"},
        {"id":103,"station":"NN6212A60 çµ±å¥½ç«™1","name":"åŠ‰æ‡¿æ…§","table":"22","diet":"è‘·"},
        {"id":104,"station":"NN6212A60 çµ±å¥½ç«™2","name":"å‘‚å§¿å„€","table":"22","diet":"è‘·"},
        {"id":105,"station":"NN6212B10 å¤§é—œå»Ÿç«™","name":"è‘‰å®œéœ","table":"22","diet":"è‘·"},
        {"id":106,"station":"NN6212B34 å„„æ­¸ç«™","name":"å»–å©•å¦¤","table":"22","diet":"è‘·"},
        {"id":107,"station":"NN6212A53 åŒ—å®‰ç«™","name":"æ—å®œç’‹","table":"22","diet":"è‘·"},
        {"id":108,"station":"NN6212B64 å¤§æ­£ç«™","name":"è¬å®—å»·","table":"22","diet":"è‘·"},
        {"id":109,"station":"NN6212D17 ä¹…äº•å¥‡ç¾","name":"ç‹æƒ æ´™","table":"22","diet":"è‘·"},
        {"id":110,"station":"NN6212C05 ç‡Ÿè¾²ç«™","name":"æ´ªè¯å—","table":"23","diet":"è‘·"},
        {"id":111,"station":"NN6212C06 å°‡è¾²ç«™","name":"é™³æ–‡æ˜","table":"23","diet":"è‘·"},
        {"id":112,"station":"NN6212D02 ç¦æ˜‡ç«™1","name":"è˜‡æ³°æ¸…","table":"23","diet":"è‘·"},
        {"id":113,"station":"NN6212D02 ç¦æ˜‡ç«™2","name":"æéŒ¦è¯","table":"23","diet":"è‘·"},
        {"id":114,"station":"NN6212A54 ä½³å„„ç«™","name":"é‚±ææ·‘è²","table":"23","diet":"è‘·"},
        {"id":115,"station":"NN6212C24 ç¯¤åŠ ç«™","name":"è¨±é›…ç´”","table":"23","diet":"è‘·"},
        {"id":116,"station":"NN6212C74 æ°¸åº·ä¸­æ­£å—è·¯ç«™","name":"ææ’ä¿®","table":"23","diet":"è‘·"},
        {"id":117,"station":"NN6212C91 å¿ å­æ±è·¯ç«™","name":"é™³ç§€ç´","table":"23","diet":"è‘·"},
        {"id":118,"station":"NN6212C71 ä½³è¾²ç«™","name":"é»ƒç™¾å¦‚","table":"23","diet":"è‘·"},
        {"id":119,"station":"NN6212C82 åŒ—æµ·ç«™","name":"é™³ä½³ä¾¯","table":"23","diet":"è‘·"},
        {"id":120,"station":"NN6212C98 æŒ‘æˆ°è€…å…¬åœ’å—","name":"é»ƒç¡ç²","table":"24","diet":"è‘·"},
        {"id":121,"station":"NN6212A01 æ°¸æ˜‡","name":"æ—å† ç©","table":"24","diet":"è‘·"},
        {"id":122,"station":"NN6212A39 æ°¸æ¨ºç«™","name":"è«äºè±","table":"24","diet":"è‘·"},
        {"id":123,"station":"NN6212D20 å·½æ™¯ç«™1","name":"ç„¡å§“å","table":"24","diet":"è‘·"},
        {"id":124,"station":"NN6212D20 å·½æ™¯ç«™2","name":"ç„¡å§“å","table":"24","diet":"è‘·"},
        {"id":125,"station":"NN6212B01 å˜‰å’Œ","name":"èƒ¡ç¿ ç","table":"24","diet":"è‘·"},
        {"id":126,"station":"NN6212C68 å—æ˜‡ç«™1","name":"è”¡æ¿¬å®‡","table":"24","diet":"è‘·"},
        {"id":127,"station":"NN6212C68 å—æ˜‡ç«™2","name":"å®‹æ‰¿ç¥","table":"24","diet":"è‘·"},
        {"id":128,"station":"NN6212B21 è½‚è±1","name":"æ´ªæ‚…ç²","table":"24","diet":"è‘·"},
        {"id":129,"station":"NN6212B21 è½‚è±2","name":"åŠ‰é¾èˆˆ","table":"24","diet":"è‘·"}
    ];

    let checkedIds = JSON.parse(localStorage.getItem('checkedGuests_v2') || '[]');

    function toggleCheck(id) {
        if (checkedIds.includes(id)) {
            checkedIds = checkedIds.filter(i => i !== id);
        } else {
            checkedIds.push(id);
        }
        localStorage.setItem('checkedGuests_v2', JSON.stringify(checkedIds));
        if (document.getElementById('t-list').classList.contains('active')) renderFullTable(); else processSearch();
    }

    function clearAllCheck() {
        if(confirm("ç¢ºå®šè¦é‡ç½®æ‰€æœ‰å ±åˆ°ç‹€æ…‹å—ï¼Ÿ")) {
            checkedIds = [];
            localStorage.setItem('checkedGuests_v2', '[]');
            renderFullTable();
        }
    }

    function showTab(name) {
        document.querySelectorAll('.tab, .section').forEach(el => el.classList.remove('active'));
        document.getElementById('t-' + name).classList.add('active');
        document.getElementById('s-' + name).classList.add('active');
        if(name === 'list') renderFullTable();
    }

    function renderFullTable() {
        const body = document.getElementById('fullTableBody');
        const sorted = [...rawData].sort((a,b) => parseInt(a.table) - parseInt(b.table));
        document.getElementById('totalCount').innerText = `å…¨å“¡ç¸½åå–® (å…± ${sorted.length} äºº)`;
        body.innerHTML = sorted.map(m => {
            const isChecked = checkedIds.includes(m.id);
            return `<tr class="${isChecked ? 'is-checked' : ''}">
                <td><button class="check-btn ${isChecked ? 'active' : ''}" onclick="toggleCheck(${m.id})">${isChecked ? 'âœ…' : 'æœª'}</button></td>
                <td>${m.table}</td><td class="${m.name==='ç„¡å§“å'?'no-name':''}">${m.name}</td><td>${m.station}</td>
                <td><span class="tag ${m.diet==='ç´ '?'tag-veg':'tag-meat'}">${m.diet}</span></td></tr>`;
        }).join('');
    }

    function processSearch() {
        const val = document.getElementById('mainInput').value.trim();
        const area = document.getElementById('displayArea');
        area.innerHTML = ''; if(!val) return;
        let results = [];
        if(/^\d+$/.test(val)) {
            results = rawData.filter(g => g.table == val);
            if(results.length > 0) {
                let h = `<div style="background:#fff8f8; padding:15px; border-radius:10px; border:2px solid var(--red)"><b>ç¬¬ ${val} æ¡Œ</b><hr style="border:0.5px solid #eee">`;
                results.forEach(m => {
                    const isChecked = checkedIds.includes(m.id);
                    h += `<div style="display:flex; justify-content:space-between; align-items:center; padding:8px 0; border-bottom:1px solid #f9f9f9" class="${isChecked ? 'is-checked' : ''}">
                        <span>${m.name} <small>(${m.station})</small></span>
                        <div><span class="tag ${m.diet==='ç´ '?'tag-veg':'tag-meat'}">${m.diet}</span>
                        <button class="check-btn ${isChecked ? 'active' : ''}" onclick="toggleCheck(${m.id})">${isChecked ? 'âœ…' : 'å ±åˆ°'}</button></div></div>`;
                });
                area.innerHTML = h + '</div>';
            }
        } else {
            results = rawData.filter(g => g.name.includes(val) || g.station.includes(val));
            results.forEach(m => {
                const isChecked = checkedIds.includes(m.id);
                area.innerHTML += `<div class="card ${isChecked ? 'is-checked' : ''}">
                    <div><b style="font-size:18px" class="${m.name==='ç„¡å§“å'?'no-name':''}">${m.name}</b> 
                    <span class="tag ${m.diet==='ç´ '?'tag-veg':'tag-meat'}">${m.diet}</span><br><small style="color:#666">${m.station}</small></div>
                    <div style="display:flex; align-items:center"><div class="table-badge">${m.table}æ¡Œ</div>
                    <button class="check-btn ${isChecked ? 'active' : ''}" onclick="toggleCheck(${m.id})">${isChecked ? 'âœ…' : 'å ±åˆ°'}</button></div></div>`;
            });
        }
    }
</script>
</body>
</html>